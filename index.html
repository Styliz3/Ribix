<!-- =============================
Cookable ‚Äî AI HTML5 App Creator (Vercel-ready)
Minimal project with 3 files:
1) index.html
2) styles.css
3) cookable.js
Drop these in a new Vercel project repo/root. No build step needed.
============================= -->

<!-- ===== File: index.html ===== -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cookable ‚Äî AI HTML5 App Creator</title>
    <link rel="stylesheet" href="/styles.css" />
    <meta name="description" content="Create HTML5 apps and sites by chatting with AI. Hosted on Vercel." />
  </head>
  <body>
    <main id="app">
      <!-- Landing -->
      <section id="landing" class="page page--active">
        <div class="hero">
          <h1 class="hero__title">Build something <span class="heart">‚ù§</span> Cookable</h1>
          <p class="hero__subtitle">Create apps and websites by chatting with AI.</p>
          <form id="prompt-form" class="prompt">
            <input id="prompt-input" class="prompt__input" placeholder="Ask Cookable to create a landing page for my..." autocomplete="off" />
            <button class="prompt__send" title="Start"><svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 11l18-8-8 18-2-7z"/></svg></button>
          </form>
          <div class="chips">
            <button class="chip" data-example="task tracker in vanilla js">Task tracker</button>
            <button class="chip" data-example="portfolio site with sections">Portfolio</button>
            <button class="chip" data-example="todo app with localstorage">Todo App</button>
          </div>
          <p class="hint">Deployed on Vercel ¬∑ No signup required</p>
        </div>
      </section>

      <!-- Chat/Builder -->
      <section id="builder" class="page">
        <header class="bar">
          <button id="back-to-landing" class="btn btn--ghost">‚Üê Back</button>
          <div class="bar__title">Cookable Builder</div>
          <div class="bar__spacer"></div>
        </header>

        <div class="cols">
          <aside class="sidebar" id="file-list"></aside>
          <section class="chat" id="chat"></section>
        </div>

        <form id="continue-form" class="compose">
          <input id="continue-input" class="compose__input" placeholder="Continue prompting to edit files (e.g. 'Make buttons rounded', 'Add dark mode toggle')" />
          <button class="compose__send" title="Send">‚ñ∂</button>
        </form>
      </section>

      <!-- Preview -->
      <section id="preview" class="page">
        <header class="bar">
          <button id="back-to-builder" class="btn btn--ghost">‚Üê Back</button>
          <div class="bar__title">Preview</div>
          <div class="bar__spacer"></div>
          <a id="download-zip" class="btn" download="cookable-app.html">Download</a>
        </header>
        <iframe id="preview-frame" title="Preview" sandbox="allow-forms allow-scripts allow-same-origin"></iframe>
      </section>
    </main>

    <script src="/cookable.js" type="module"></script>
  </body>
</html>


/* ===== File: styles.css ===== */
:root{
  --bg: #0b0f14;
  --elev: #0f1520;
  --card: #121a27;
  --line: #1e2838;
  --text: #eaf0ff;
  --muted: #93a1bb;
}
*{box-sizing:border-box}
html,body,#app{height:100%}
body{margin:0;background:radial-gradient(1200px 600px at 70% -10%, #1b2331 0%, #0b0f14 60%), var(--bg);color:var(--text);font:16px/1.4 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto}
.page{display:none;height:100%}
.page--active{display:block}
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem .9rem;border-radius:12px;border:1px solid var(--line);background:var(--elev);color:var(--text);cursor:pointer}
.btn--ghost{background:transparent}
.hero{max-width:900px;margin:0 auto;padding:5rem 1rem 2rem;display:grid;gap:1rem;place-items:center}
.hero__title{font-size:3rem;line-height:1.1;margin:0;text-align:center}
.heart{filter:drop-shadow(0 2px 10px rgba(255,60,120,.5))}
.hero__subtitle{opacity:.9;margin:0;text-align:center}
.prompt{display:flex;align-items:center;gap:.5rem;background:#0e1420;border:1px solid var(--line);border-radius:16px;padding:.4rem .5rem;width:min(900px,92vw)}
.prompt__input{flex:1;background:transparent;border:0;outline:0;color:var(--text);padding:.8rem .9rem;font-size:1rem}
.prompt__send{border:0;background:var(--elev);border-left:1px solid var(--line);padding:.7rem .8rem;border-radius:12px;cursor:pointer}
.chips{display:flex;gap:.5rem;flex-wrap:wrap}
.chip{border:1px solid var(--line);background:transparent;color:var(--muted);padding:.4rem .7rem;border-radius:999px;cursor:pointer}
.hint{color:var(--muted);font-size:.9rem}

.bar{display:flex;align-items:center;gap:.75rem;padding:.6rem;border-bottom:1px solid var(--line);position:sticky;top:0;background:linear-gradient(180deg, rgba(13,17,26,.9), rgba(13,17,26,.7)) backdrop-filter:blur(10px)}
.bar__title{font-weight:600}
.bar__spacer{flex:1}
.cols{display:grid;grid-template-columns:260px 1fr;height:calc(100% - 112px)}
.sidebar{border-right:1px solid var(--line);overflow:auto}
.chat{overflow:auto;padding:1rem}
.message{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px 14px;margin:10px 0}
.message--system{opacity:.9}
.file{display:flex;justify-content:space-between;align-items:center;border:1px dashed var(--line);padding:.5rem .6rem;border-radius:10px;margin:.4rem 0}
.compose{display:flex;gap:.5rem;padding:.6rem;border-top:1px solid var(--line)}
.compose__input{flex:1;background:transparent;border:1px solid var(--line);border-radius:12px;padding:.7rem .9rem;color:var(--text)}
.compose__send{border:0;background:var(--elev);border:1px solid var(--line);padding:.7rem .9rem;border-radius:12px;cursor:pointer}
#preview-frame{width:100%;height:calc(100% - 56px);border:0}


// ===== File: cookable.js =====
const $ = (s, r=document) => r.querySelector(s);
const $$ = (s, r=document) => [...r.querySelectorAll(s)];
const pages = { landing: $('#landing'), builder: $('#builder'), preview: $('#preview') };

const state = {
  files: {},          // virtual FS: { 'app.html': '...', ... }
  history: [],        // chat messages
  projectName: 'cookable-app',
  previewUrl: null,
};

function show(page){ Object.values(pages).forEach(p=>p.classList.remove('page--active')); pages[page].classList.add('page--active'); }

function sys(msg){
  const el = document.createElement('div');
  el.className = 'message message--system';
  el.textContent = msg;
  $('#chat').appendChild(el);
  $('#chat').scrollTop = 1e9;
}

function addFileChip(name){
  const row = document.createElement('div');
  row.className = 'file';
  row.innerHTML = `<span>${name}</span><div><button class="btn btn--ghost" data-open="${name}">Open</button></div>`;
  $('#file-list').appendChild(row);
  row.querySelector('[data-open]').onclick = () => openInEditor(name);
}

function openInEditor(name){
  const code = state.files[name] ?? '';
  const area = document.createElement('textarea');
  area.value = code;
  area.style.width = '100%';
  area.style.minHeight = '240px';
  const msg = document.createElement('div');
  msg.className = 'message';
  const save = document.createElement('button');
  save.className = 'btn';
  save.textContent = 'Save & Preview';
  save.onclick = () => { state.files[name] = area.value; buildPreview(); };
  msg.append(area, document.createElement('br'), save);
  $('#chat').appendChild(msg);
}

function think(idea){
  sys('Thinking about UI, system, and project basics...');
  setTimeout(()=>{ generateProject(idea); }, 600);
}

function generateProject(idea){
  const title = idea ? idea.replace(/(^|\s)\S/g, s=>s.toUpperCase()) : 'My App';
  state.files = {
    'app.html': `<!doctype html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><title>${title}</title><style>body{font-family:system-ui;margin:0;background:#0b0f14;color:#eaf0ff}header{padding:16px;border-bottom:1px solid #1e2838}main{padding:20px}button{padding:8px 12px;border-radius:10px;border:1px solid #1e2838;background:#0f1520;color:#eaf0ff}</style></head><body><header>${title}</header><main><h2>Hello from Cookable üëã</h2><p>This is a generated starter for: <b>${idea||'your idea'}</b>.</p><button id=\"count\">Click me</button> <span id=\"n\">0</span><script>let n=0;document.getElementById('count').onclick=()=>{n++;document.getElementById('n').textContent=n};</script></main></body></html>`,
    'README.md': `# ${title}\n\nGenerated with **Cookable**. Edit files via chat, then preview.`,
    'style.css': `/* add custom styles here */`,
  };

  $('#file-list').innerHTML = '';
  Object.keys(state.files).forEach(f=>{ addFileChip(f); sys(`Created ${f}`); });
  sys('Project ready. Click any file to edit, or hit ‚ñ∂ Preview to test.');
  buildPreview();
}

function buildPreview(){
  const html = state.files['app.html'] || '<!doctype html><title>Empty</title>';
  const blob = new Blob([html], { type: 'text/html' });
  if(state.previewUrl) URL.revokeObjectURL(state.previewUrl);
  state.previewUrl = URL.createObjectURL(blob);
  $('#preview-frame').src = state.previewUrl;
  show('preview');
}

$('#download-zip').addEventListener('click', (e)=>{
  const file = new Blob([ state.files['app.html'] || '' ], { type:'text/html' });
  e.target.href = URL.createObjectURL(file);
});

$('#prompt-form').addEventListener('submit', (e)=>{
  e.preventDefault();
  const idea = $('#prompt-input').value.trim();
  if(!idea) return;
  show('builder');
  $('#chat').innerHTML = '';
  think(idea);
});

$('#continue-form').addEventListener('submit', (e)=>{
  e.preventDefault();
  const cmd = $('#continue-input').value.trim();
  if(!cmd) return;
  $('#continue-input').value = '';
  if(/rounded|radius/i.test(cmd)){
    state.files['app.html'] = state.files['app.html'].replace('</style>', 'button{border-radius:16px}</style>');
    sys('Updated styles: rounded buttons.');
  } else if(/dark mode|toggle/i.test(cmd)){
    state.files['app.html'] = state.files['app.html'].replace('</body>', '<button id=\"toggle\" style=\"position:fixed;right:12px;bottom:12px\">Dark</button><script>(function(){let dark=true;document.getElementById("toggle").onclick=()=>{dark=!dark;document.body.style.background=dark?"#0b0f14":"#f6f8ff";document.body.style.color=dark?"#eaf0ff":"#0b0f14";};})();</script></body>');
    sys('Added dark mode toggle.');
  } else {
    sys('Noted. Cookable will refine the app in the next version.');
  }
  buildPreview();
});

$('#back-to-landing').onclick = ()=> show('landing');
$('#back-to-builder').onclick = ()=> show('builder');

$$('.chip').forEach(btn=>btn.addEventListener('click',()=>{ $('#prompt-input').value = btn.dataset.example; }));
show('landing');
