<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>EmeraldPet — Roblox Pet Generator</title>
<meta name="description" content="Generate your exclusive Roblox pet instantly with EmeraldPet. Looks official, totally free!">

<!-- Open Graph (Discord Embed preview) -->
<meta property="og:type" content="website"/>
<meta property="og:site_name" content="EmeraldPet"/>
<meta property="og:title" content="EmeraldPet — Free Roblox Pet Generator"/>
<meta property="og:description" content="Claim your exclusive Roblox pet now. Official-looking, totally free."/>
<meta property="og:image" content="https://etu-values.vercel.app/assets/pets/diamond-phantom-overseer.png"/>
<meta property="og:url" content="https://your-vercel-site.vercel.app/"/>
<meta name="twitter:card" content="summary_large_image"/>

<style>
body {
  margin:0;
  font-family:"Segoe UI",sans-serif;
  background:linear-gradient(135deg,#0a0d11,#12161d);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:20px;
}
.card {
  background:#15181c;
  border-radius:16px;
  padding:40px 30px;
  width:100%;
  max-width:460px;
  text-align:center;
  box-shadow:0 12px 30px rgba(0,0,0,0.6);
  transition:all .3s ease;
}
h1 {
  margin:0 0 20px;
  font-size:24px;
  color:#00ff90;
}
.input-box {
  display:flex;
  gap:10px;
  margin-top:10px;
}
input {
  flex:1;
  padding:14px;
  border-radius:10px;
  border:1px solid #222;
  background:#1c2026;
  color:#fff;
  font-size:16px;
  outline:none;
  transition:all .2s;
}
input:focus {
  border-color:#00ff90;
  box-shadow:0 0 6px rgba(0,255,144,0.4);
}
button {
  padding:14px 18px;
  border:none;
  border-radius:10px;
  background:#00ff90;
  color:#000;
  font-weight:bold;
  cursor:pointer;
  transition:all .2s;
}
button:hover {
  background:#00cc70;
}
.avatar {
  margin:20px auto;
  width:120px;height:120px;
  border-radius:12px;
  overflow:hidden;
  background:#111;
}
.avatar img{width:100%;height:100%;object-fit:cover;}
.pet{margin-top:20px;min-height:220px;}
.pet img{width:220px;border-radius:12px;animation:pop .4s ease;}
@keyframes pop{0%{transform:scale(.8);opacity:0}100%{transform:scale(1);opacity:1}}
.share{margin-top:20px;font-size:14px;background:#222;padding:10px;border-radius:8px;word-break:break-all;}

/* Progress loading bar */
.loading-bar{height:10px;border-radius:6px;overflow:hidden;margin:20px auto;width:80%;background:#222;}
.loading-fill{width:0%;height:100%;background:#00ff90;animation:fill 2s linear forwards;}
@keyframes fill{from{width:0%}to{width:100%}}
</style>
</head>
<body>
<div class="card" id="generator">
  <h1>EmeraldPet Generator</h1>
  <div id="formArea">
    <div class="input-box">
      <input id="username" placeholder="Enter Roblox username">
      <button onclick="generate()">Go</button>
    </div>
  </div>

  <div id="resultArea" style="display:none;">
    <div class="avatar" id="avatarBox"><img id="avatarImg" src=""></div>
    <h2 id="displayName"></h2>
    <div class="pet" id="petBox">
      <div class="loading-bar"><div class="loading-fill"></div></div>
      <p id="petStatus">Fetching your pet...</p>
    </div>
    <div class="share" id="shareBox" style="display:none;">
      <p>Share this link:</p>
      <a id="shareLink" href=""></a>
    </div>
  </div>
</div>

<script>
const PETS=[
 {src:"https://etu-values.vercel.app/assets/pets/diamond-phantom-overseer.png",name:"Diamond Phantom Overseer"},
 {src:"https://etu-values.vercel.app/assets/pets/shiny-phantom-overseer.png",name:"Shiny Phantom Overseer"},
 {src:"https://etu-values.vercel.app/assets/pets/shiny-sakura-tarragon.png",name:"Shiny Sakura Tarragon"}
];

async function generate(){
  const username=document.getElementById("username").value.trim();
  if(!username)return alert("Enter a username!");
  document.getElementById("formArea").style.display="none";
  document.getElementById("resultArea").style.display="block";
  document.getElementById("displayName").textContent=username;

  // Pick random pet
  const pet=PETS[Math.floor(Math.random()*PETS.length)];

  // Get userId first
  try {
    const res=await fetch("https://users.roblox.com/v1/usernames/users",{
      method:"POST",headers:{"Content-Type":"application/json"},
      body:JSON.stringify({usernames:[username]})
    });
    const data=await res.json();
    if(data.data&&data.data[0]){
      const id=data.data[0].id;
      // Use thumbnails API for avatar
      const avatarUrl=`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${id}&size=150x150&format=Png`;
      fetch(avatarUrl).then(r=>r.json()).then(av=>{
        if(av.data&&av.data[0]){
          document.getElementById("avatarImg").src=av.data[0].imageUrl;
        }
      });
    }
  } catch(e){console.log("avatar error",e)}

  // Fake pet fetching delay
  setTimeout(()=>{
    const petBox=document.getElementById("petBox");
    petBox.innerHTML=`<img src="${pet.src}"><h3>${pet.name}</h3>`;
    document.getElementById("shareBox").style.display="block";
    // Generate share link
    const url=`${location.origin}${location.pathname}?user=${encodeURIComponent(username)}&pet=${encodeURIComponent(pet.src)}`;
    const link=document.getElementById("shareLink");
    link.href=url;
    link.textContent=url;
  },2200);
}
</script>
</body>
</html>
